<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
</head>
<body>
  <nav style="margin-bottom:20px;">
    <a href="/index.html">Home</a> |
    <a href="/id.html">Login</a> |
    <a href="/otp.html">OTP</a> |
    <a href="/upload.html">Upload</a> |
    <a href="/logs.html">Logs</a> |
    <a href="#" id="logout-link" style="color:red; display:none;">Logout</a>
  </nav>
  <h1>Login</h1>
  <form id="login-form">
    <label>Email: <input type="email" id="email" required></label><br>
    <label>Password: <input type="password" id="password" required></label><br>
    <button type="submit">Login</button>
  </form>
  <div id="result" style="margin-top:20px;font-weight:bold;"></div>
  <script>
    const logoutLink = document.getElementById("logout-link");
    if (localStorage.getItem("loggedIn") === "true") {
      logoutLink.style.display = "inline";
    }
    logoutLink.addEventListener("click", e => {
      e.preventDefault();
      localStorage.removeItem("loggedIn");
      localStorage.removeItem("otpPassed");
      window.location.href = "/index.html";
    });
    document.getElementById('login-form').addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const result = document.getElementById('result');
      if (email && password) {
        localStorage.setItem("loggedIn", "true");
        result.style.color = "green";
        result.textContent = "✅ Login successful. Redirecting to OTP...";
        setTimeout(() => window.location.href = "/otp.html", 1000);
      } else {
        result.style.color = "red";
        result.textContent = "❌ Please enter email and password.";
      }
    });
  </script>
</body>
</html>
